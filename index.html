<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Swipe Speed Test</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <style>
    body { margin:0; background:#111; overflow:hidden; }
    #hud {
      position:fixed; top:10px; left:10px; color:#0ff;
      font:18px system-ui,sans-serif; text-shadow:0 0 6px #0ff;
    }
    canvas { display:block; width:100vw; height:100vh; touch-action:none; }
  </style>
</head>
<body>
<div id="hud">Speed: <span id="speedVal">0</span></div>
<canvas id="c"></canvas>
<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const speedEl = document.getElementById('speedVal');

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);
resize();

let speed = 0;
let targetSpeed = 0;
let lastX = null;
let dots = Array.from({length:50}, () => ({
  x: Math.random()*canvas.width,
  y: Math.random()*canvas.height,
  size: 2+Math.random()*3
}));

function loop() {
  speed += (targetSpeed - speed) * 0.1;
  ctx.fillStyle = '#111';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = '#0ff';
  for (let d of dots) {
    d.x += speed;
    if (d.x > canvas.width+10) d.x = -10;
    if (d.x < -10) d.x = canvas.width+10;
    ctx.fillRect(d.x,d.y,d.size,d.size);
  }
  speedEl.textContent = targetSpeed.toFixed(1);
  requestAnimationFrame(loop);
}
loop();

function clamp(v,a,b){return Math.max(a,Math.min(b,v));}

canvas.addEventListener('pointerdown', e => {
  lastX = e.clientX;
  canvas.setPointerCapture(e.pointerId);
});
canvas.addEventListener('pointermove', e => {
  if (lastX==null) return;
  const dx = e.clientX - lastX;
  if (Math.abs(dx)>2) {
    targetSpeed = clamp(targetSpeed + (dx>0?1.5:-1.5), -30, 30);
    lastX = e.clientX;
  }
});
canvas.addEventListener('pointerup', e => {
  lastX = null;
  try{canvas.releasePointerCapture(e.pointerId);}catch{}
});
</script>
</body>
</html>

